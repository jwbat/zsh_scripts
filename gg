#!/bin/zsh

# Description
# git push listed repos

# Usage
# gg

d1=~/.dotfiles
d2=~/code/shell/scripts
ds=($d1 $d2) 
c1="$(tput setaf 120)"
c2="$(tput setaf 12)"

# encrypt zprofile
enc ~/.zprofile ~/.dotfiles/.zprofile_encrypted

for d in $ds; do
    echo "$c1 $d $c2"
    git -C $d add . && 
    git -C $d commit -m "." &&
    git -C $d push -u origin main
done

dcr ~/.dotfiles/.zprofile_encrypted ~/.zprofile     # decrypt zprofile
cp ~/.zprofile ~/code/zzz

exit 0
